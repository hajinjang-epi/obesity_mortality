LIBNAME C "C:\Users\HajinJang\Documents\FINAL";

DATA C.COHORT_RE;
INPUT COHORT SEX EDU AGE BMI;
CARDS;
1	1	1	39	23.411124
1	1	1	40	23.668988
1	1	1	41	23.652654
1	1	1	42	24.008514
1	1	1	43	24.274236
1	1	1	44	23.695685
1	1	1	45	23.307456
1	1	1	46	24.094725
1	1	1	47	23.777903
1	1	1	48	23.804062
1	1	1	49	24.081968
1	1	1	50	23.581423
1	1	1	51	23.915036
1	1	1	52	23.884078
1	1	1	53	24.267028
1	1	1	54	24.074784
1	1	1	55	24.122877
1	1	1	56	24.298313
1	1	1	57	24.123849
1	1	1	58	24.662907
1	1	1	59	23.624361
1	1	1	60	24.123142
1	1	1	61	24.026099
1	1	1	62	23.801454
1	1	1	63	24.320807
1	1	1	64	24.457655
1	1	1	65	23.498877
1	1	1	66	24.092508
1	1	1	67	23.720985
1	1	1	68	23.697853
1	1	2	46	25.885332
1	1	2	47	24.004681
1	1	2	48	24.012995
1	1	2	49	24.539748
1	1	2	50	23.810704
1	1	2	51	24.507367
1	1	2	52	24.958993
1	1	2	53	24.146555
1	1	2	54	24.756786
1	1	2	55	24.011123
1	1	2	56	24.345808
1	1	2	57	24.467793
1	1	2	58	24.472841
1	1	2	59	24.380761
1	1	2	60	24.731668
1	1	2	61	24.550245
1	1	2	62	24.094531
1	1	2	63	24.054742
1	1	2	64	24.052547
1	1	2	65	24.06656
1	1	2	66	24.383436
1	1	2	67	24.260512
1	1	2	68	25.152306
1	2	1	39	23.157286
1	2	1	40	23.352879
1	2	1	41	23.454975
1	2	1	42	23.888977
1	2	1	43	24.084395
1	2	1	44	23.905348
1	2	1	45	24.310959
1	2	1	46	24.186608
1	2	1	47	24.530317
1	2	1	48	24.240835
1	2	1	49	24.630284
1	2	1	50	24.068136
1	2	1	51	24.293679
1	2	1	52	24.603161
1	2	1	53	24.833573
1	2	1	54	24.817676
1	2	1	55	24.493582
1	2	1	56	24.367096
1	2	1	57	25.11051
1	2	1	58	24.620688
1	2	1	59	24.826245
1	2	1	60	24.693351
1	2	1	61	24.897579
1	2	1	62	24.991146
1	2	1	63	24.899985
1	2	1	64	24.814557
1	2	1	65	24.817658
1	2	1	66	25.232545
1	2	1	67	25.135953
1	2	1	68	24.452517
1	2	2	46	23.902205
1	2	2	47	22.286391
1	2	2	48	22.972235
1	2	2	49	22.647971
1	2	2	50	23.33498
1	2	2	51	23.743426
1	2	2	52	23.506045
1	2	2	53	23.370568
1	2	2	54	23.576524
1	2	2	55	23.414106
1	2	2	56	23.551299
1	2	2	57	23.145253
1	2	2	58	23.535795
1	2	2	59	23.501218
1	2	2	60	23.776785
1	2	2	61	23.209691
1	2	2	62	23.80973
1	2	2	63	23.573139
1	2	2	64	23.449337
1	2	2	65	23.578828
1	2	2	66	23.395045
1	2	2	67	24.530915
1	2	2	68	21.274551
2	1	1	29	23.008108
2	1	1	30	22.237839
2	1	1	31	22.134361
2	1	1	32	23.651216
2	1	1	33	24.025986
2	1	1	34	23.373516
2	1	1	35	23.333417
2	1	1	36	23.621484
2	1	1	37	23.488474
2	1	1	38	23.615614
2	1	1	39	23.897632
2	1	1	40	24.651311
2	1	1	41	24.264622
2	1	1	42	23.735286
2	1	1	43	24.119597
2	1	1	44	24.317686
2	1	1	45	22.980233
2	1	1	46	24.509004
2	1	1	47	24.328503
2	1	1	48	25.185783
2	1	1	49	24.146605
2	1	1	50	24.540775
2	1	1	51	24.587857
2	1	1	52	24.101639
2	1	1	53	24.16667
2	1	1	54	24.911289
2	1	1	55	24.619237
2	1	1	56	24.401371
2	1	1	57	24.326206
2	1	1	58	24.176471
2	1	2	36	24.028315
2	1	2	37	23.970692
2	1	2	38	24.577036
2	1	2	39	24.511629
2	1	2	40	24.222275
2	1	2	41	25.053509
2	1	2	42	24.608374
2	1	2	43	24.227072
2	1	2	44	24.502571
2	1	2	45	24.224225
2	1	2	46	24.613935
2	1	2	47	24.495432
2	1	2	48	24.354469
2	1	2	49	24.622447
2	1	2	50	24.778641
2	1	2	51	24.825705
2	1	2	52	24.351582
2	1	2	53	24.807932
2	1	2	54	24.311112
2	1	2	55	24.299667
2	1	2	56	24.522186
2	1	2	57	23.496278
2	1	2	58	25.055598
2	2	1	29	21.896398
2	2	1	30	22.416295
2	2	1	31	22.293374
2	2	1	32	22.885257
2	2	1	33	22.892221
2	2	1	34	22.617236
2	2	1	35	22.700514
2	2	1	36	23.779808
2	2	1	37	23.731067
2	2	1	38	23.654208
2	2	1	39	23.247367
2	2	1	40	24.065592
2	2	1	41	23.812751
2	2	1	42	24.857892
2	2	1	43	24.589103
2	2	1	44	24.333897
2	2	1	45	24.270308
2	2	1	46	24.249586
2	2	1	47	24.213508
2	2	1	48	24.745322
2	2	1	49	25.198404
2	2	1	50	24.801574
2	2	1	51	24.560923
2	2	1	52	24.392065
2	2	1	53	24.687831
2	2	1	54	24.518738
2	2	1	55	25.165169
2	2	1	56	24.5122
2	2	1	57	24.372088
2	2	1	58	25.502099
2	2	2	36	22.90864
2	2	2	37	22.759512
2	2	2	38	22.244965
2	2	2	39	22.840248
2	2	2	40	23.336885
2	2	2	41	22.925491
2	2	2	42	23.424973
2	2	2	43	23.38384
2	2	2	44	23.317233
2	2	2	45	23.551728
2	2	2	46	23.587821
2	2	2	47	23.374465
2	2	2	48	23.354331
2	2	2	49	23.420549
2	2	2	50	23.548276
2	2	2	51	23.504557
2	2	2	52	23.057436
2	2	2	53	23.175138
2	2	2	54	23.472635
2	2	2	55	23.254173
2	2	2	56	23.378768
2	2	2	57	23.246357
2	2	2	58	23.587582
3	1	1	19	21.201685
3	1	1	20	21.78593
3	1	1	21	23.589644
3	1	1	22	22.296035
3	1	1	23	21.391271
3	1	1	24	23.310951
3	1	1	25	22.907444
3	1	1	26	23.256513
3	1	1	27	23.278842
3	1	1	28	23.765803
3	1	1	29	23.259329
3	1	1	30	23.382052
3	1	1	31	23.809975
3	1	1	32	23.52131
3	1	1	33	26.437954
3	1	1	34	25.316451
3	1	1	35	24.231567
3	1	1	36	23.799008
3	1	1	37	24.901484
3	1	1	38	25.127227
3	1	1	39	25.626456
3	1	1	40	25.611025
3	1	1	41	24.053582
3	1	1	42	23.200715
3	1	1	43	25.024039
3	1	1	44	25.29347
3	1	1	45	24.208549
3	1	1	46	23.912991
3	1	1	47	23.605515
3	1	1	48	24.087148
3	1	2	26	24.171506
3	1	2	27	23.31653
3	1	2	28	23.367976
3	1	2	29	24.340175
3	1	2	30	24.481632
3	1	2	31	24.303477
3	1	2	32	24.558378
3	1	2	33	24.295656
3	1	2	34	24.593025
3	1	2	35	24.363449
3	1	2	36	24.244001
3	1	2	37	24.586174
3	1	2	38	24.324332
3	1	2	39	24.682749
3	1	2	40	24.763887
3	1	2	41	25.049002
3	1	2	42	25.03566
3	1	2	43	25.332707
3	1	2	44	24.723293
3	1	2	45	25.012247
3	1	2	46	24.56045
3	1	2	47	25.112253
3	1	2	48	25.252978
3	2	1	19	21.187947
3	2	1	20	21.07558
3	2	1	21	20.072835
3	2	1	22	20.696004
3	2	1	23	21.645535
3	2	1	24	20.910295
3	2	1	25	21.887357
3	2	1	26	22.341685
3	2	1	27	22.170482
3	2	1	28	22.485228
3	2	1	29	22.782166
3	2	1	30	23.245115
3	2	1	31	23.425182
3	2	1	32	22.724334
3	2	1	33	24.723606
3	2	1	34	23.610931
3	2	1	35	24.17678
3	2	1	36	23.813098
3	2	1	37	24.588425
3	2	1	38	23.502849
3	2	1	39	27.908391
3	2	1	40	24.42823
3	2	1	41	25.746454
3	2	1	42	26.453613
3	2	1	43	24.226063
3	2	1	44	23.949747
3	2	1	45	24.747148
3	2	1	46	26.474805
3	2	1	47	26.523187
3	2	1	48	21.561102
3	2	2	26	21.43867
3	2	2	27	21.038329
3	2	2	28	22.94306
3	2	2	29	22.410174
3	2	2	30	21.877368
3	2	2	31	21.585126
3	2	2	32	22.112321
3	2	2	33	22.274375
3	2	2	34	22.482353
3	2	2	35	22.572035
3	2	2	36	22.648836
3	2	2	37	22.497504
3	2	2	38	22.666861
3	2	2	39	22.86711
3	2	2	40	22.722703
3	2	2	41	23.095024
3	2	2	42	22.840075
3	2	2	43	22.775655
3	2	2	44	23.368512
3	2	2	45	23.105856
3	2	2	46	23.355653
3	2	2	47	23.223499
3	2	2	48	23.289105
4	1	1	18	22.608413
4	1	1	19	22.776069
4	1	1	20	22.529665
4	1	1	21	22.186239
4	1	1	22	23.557248
4	1	1	23	21.689713
4	1	1	24	24.597442
4	1	1	25	33.510234
4	1	1	26	27.220883
4	1	1	27	25.850739
4	1	1	28	28.289001
4	1	1	29	22.962461
4	1	1	30	23.779945
4	1	1	31	23.431254
4	1	1	32	22.628955
4	1	1	33	25.834147
4	1	1	34	25.086023
4	1	1	35	25.03817
4	1	1	36	25.804061
4	1	1	37	21.690707
4	1	1	38	25.834123
4	1	2	18	22.380197
4	1	2	19	22.989096
4	1	2	20	21.772958
4	1	2	21	23.650118
4	1	2	22	23.344535
4	1	2	23	22.867604
4	1	2	24	23.578949
4	1	2	25	23.608181
4	1	2	26	23.98703
4	1	2	27	24.374088
4	1	2	28	24.245669
4	1	2	29	24.624677
4	1	2	30	25.132198
4	1	2	31	24.798334
4	1	2	32	24.89724
4	1	2	33	25.309903
4	1	2	34	25.43442
4	1	2	35	25.127763
4	1	2	36	25.408433
4	1	2	37	25.531699
4	1	2	38	24.796994
4	2	1	18	21.901239
4	2	1	19	21.528706
4	2	1	20	20.849132
4	2	1	21	21.081383
4	2	1	22	23.03235
4	2	1	23	25.073598
4	2	1	24	20.75849
4	2	1	25	19.311834
4	2	1	26	21.205255
4	2	1	27	23.490313
4	2	1	28	21.924257
4	2	1	29	21.968234
4	2	1	30	21.926885
4	2	1	31	24.075532
4	2	1	32	24.970679
4	2	1	33	27.997923
4	2	1	34	25.56053
4	2	1	35	24.523512
4	2	1	36	25.008299
4	2	1	38	23.906197
4	2	2	18	20.346324
4	2	2	19	21.45871
4	2	2	20	20.992181
4	2	2	21	21.329087
4	2	2	22	21.651736
4	2	2	23	20.786059
4	2	2	24	21.379742
4	2	2	25	21.218679
4	2	2	26	21.24698
4	2	2	27	21.781563
4	2	2	28	21.946509
4	2	2	29	22.428172
4	2	2	30	22.529596
4	2	2	31	22.065223
4	2	2	32	22.393758
4	2	2	33	22.091294
4	2	2	34	22.912753
4	2	2	35	22.847688
4	2	2	36	22.297507
4	2	2	37	22.46929
4	2	2	38	22.17856
;
RUN;


DATA B.COHORT_RE;
SET B.COHORT_RE;
IF COHORT=1 THEN DO;
IF SEX=1 AND EDU=1 THEN M11=BMI; IF SEX=1 AND EDU=2 THEN M12=BMI; 
IF SEX=2 AND EDU=1 THEN W11=BMI; IF SEX=2 AND EDU=2 THEN W12=BMI; END;
IF COHORT=2 THEN DO;
IF SEX=1 AND EDU=1 THEN M21=BMI; IF SEX=1 AND EDU=2 THEN M22=BMI; 
IF SEX=2 AND EDU=1 THEN W21=BMI; IF SEX=2 AND EDU=2 THEN W22=BMI; END;
IF COHORT=3 THEN DO;
IF SEX=1 AND EDU=1 THEN M31=BMI; IF SEX=1 AND EDU=2 THEN M32=BMI; 
IF SEX=2 AND EDU=1 THEN W31=BMI; IF SEX=2 AND EDU=2 THEN W32=BMI; END;
IF COHORT=4 THEN DO;
IF SEX=1 AND EDU=1 THEN M41=BMI; IF SEX=1 AND EDU=2 THEN M42=BMI; 
IF SEX=2 AND EDU=1 THEN W41=BMI; IF SEX=2 AND EDU=2 THEN W42=BMI; END;
RUN;

/*코호트1-남자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Men Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1950-1959)' ;
footnote;
proc sgplot data=B.cohort_RE;
  series x=AGE y=M11/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=M12/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" values=(37 to 70 by 5) LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" min=14 max=28 labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트2-남자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Men Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1960-1969)' ;
footnote;
proc sgplot data=B.cohort_RE;
  series x=AGE y=M21/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=M22/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" values=(27 to 60 by 5) LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" min=14 max=28 labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트3-남자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Men Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1970-1979)' ;
footnote;
proc sgplot data=B.cohort_RE;
  series x=AGE y=M31/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=M32/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" values=(17 to 50 by 5) LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" min=14 max=28 labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트4-남자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Men Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1980-1989)' ;
footnote;
proc sgplot data=B.cohort_RE;
  series x=AGE y=M41/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=M42/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" values=(17 to 40 by 5) LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" min=14 max=28 labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;


/*코호트1-여자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Women Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1950-1959)' ;
footnote;
proc sgplot data=B.cohort_RE;
  series x=AGE y=W11/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=W12/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" values=(37 to 70 by 5) LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" min=14 max=28 labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트2-여자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Women Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1960-1969)' ;
footnote;
proc sgplot data=B.cohort_RE;
  series x=AGE y=W21/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=W22/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" values=(27 to 60 by 5) LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" min=14 max=28 labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트3-여자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Women Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1970-1979)' ;
footnote;
proc sgplot data=B.cohort_RE;
  series x=AGE y=W31/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=W32/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" values=(17 to 50 by 5) LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" min=14 max=28 labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트4-여자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Women Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1980-1989)' ;
footnote;
proc sgplot data=B.cohort_RE;
  series x=AGE y=W41/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=W42/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" values=(17 to 40 by 5) LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" min=14 max=28 labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;


/*-------------------------------------------------------AGE BY 4 -------------------------------------------------------*/
DATA B.COHORT_AGEBY4;
INPUT COHORT SEX EDU AGE BMI;
CARDS;
1	1	1	39	23.411124
1	1	1	43	24.274236
1	1	1	47	23.777903
1	1	1	51	23.915036
1	1	1	55	24.122877
1	1	1	59	23.624361
1	1	1	63	24.320807
1	1	1	67	23.720985
1	1	2	46	25.885332
1	1	2	50	23.810704
1	1	2	54	24.756786
1	1	2	58	24.472841
1	1	2	62	24.094531
1	1	2	66	24.383436
1	1	2	68	25.152306
1	2	1	39	23.157286
1	2	1	43	24.084395
1	2	1	47	24.530317
1	2	1	51	24.293679
1	2	1	55	24.493582
1	2	1	59	24.826245
1	2	1	63	24.899985
1	2	1	67	25.135953
1	2	2	46	23.902205
1	2	2	50	23.33498
1	2	2	54	23.576524
1	2	2	58	23.535795
1	2	2	62	23.80973
1	2	2	66	23.395045
1	2	2	68	21.274551
2	1	1	29	23.008108
2	1	1	33	24.025986
2	1	1	37	23.488474
2	1	1	41	24.264622
2	1	1	45	22.980233
2	1	1	49	24.146605
2	1	1	53	24.16667
2	1	1	57	24.326206
2	1	2	36	24.028315
2	1	2	40	24.222275
2	1	2	44	24.502571
2	1	2	48	24.354469
2	1	2	52	24.351582
2	1	2	56	24.522186
2	1	2	58	25.055598
2	2	1	29	21.896398
2	2	1	33	22.892221
2	2	1	37	23.731067
2	2	1	41	23.812751
2	2	1	45	24.270308
2	2	1	49	25.198404
2	2	1	53	24.687831
2	2	1	57	24.372088
2	2	2	36	22.90864
2	2	2	40	23.336885
2	2	2	44	23.317233
2	2	2	48	23.354331
2	2	2	52	23.057436
2	2	2	56	23.378768
2	2	2	58	23.587582
3	1	1	19	21.201685
3	1	1	23	21.391271
3	1	1	27	23.278842
3	1	1	31	23.809975
3	1	1	35	24.231567
3	1	1	39	25.626456
3	1	1	43	25.024039
3	1	1	47	23.605515
3	1	2	26	24.171506
3	1	2	30	24.481632
3	1	2	34	24.593025
3	1	2	38	24.324332
3	1	2	42	25.03566
3	1	2	46	24.56045
3	1	2	48	25.252978
3	2	1	19	21.187947
3	2	1	23	21.645535
3	2	1	27	22.170482
3	2	1	31	23.425182
3	2	1	35	24.17678
3	2	1	39	27.908391
3	2	1	43	24.226063
3	2	1	47	26.523187
3	2	2	26	21.43867
3	2	2	30	21.877368
3	2	2	34	22.482353
3	2	2	38	22.666861
3	2	2	42	22.840075
3	2	2	46	23.355653
3	2	2	48	23.289105
4	1	1	19	22.776069
4	1	1	23	21.689713
4	1	1	27	25.850739
4	1	1	31	23.431254
4	1	1	35	25.03817
4	1	1	38	25.834123
4	1	2	19	22.989096
4	1	2	23	22.867604
4	1	2	27	24.374088
4	1	2	31	24.798334
4	1	2	35	25.127763
4	1	2	38	24.796994
4	2	1	19	21.528706
4	2	1	23	25.073598
4	2	1	27	23.490313
4	2	1	31	24.075532
4	2	1	35	24.523512
4	2	1	38	23.906197
4	2	2	19	21.45871
4	2	2	23	20.786059
4	2	2	27	21.781563
4	2	2	31	22.065223
4	2	2	35	22.847688
4	2	2	38	22.17856
;
RUN;

DATA B.COHORT_AGEBY4;
SET B.COHORT_AGEBY4;
IF COHORT=1 THEN DO;
IF SEX=1 AND EDU=1 THEN M11=BMI; IF SEX=1 AND EDU=2 THEN M12=BMI; 
IF SEX=2 AND EDU=1 THEN W11=BMI; IF SEX=2 AND EDU=2 THEN W12=BMI; END;
IF COHORT=2 THEN DO;
IF SEX=1 AND EDU=1 THEN M21=BMI; IF SEX=1 AND EDU=2 THEN M22=BMI; 
IF SEX=2 AND EDU=1 THEN W21=BMI; IF SEX=2 AND EDU=2 THEN W22=BMI; END;
IF COHORT=3 THEN DO;
IF SEX=1 AND EDU=1 THEN M31=BMI; IF SEX=1 AND EDU=2 THEN M32=BMI; 
IF SEX=2 AND EDU=1 THEN W31=BMI; IF SEX=2 AND EDU=2 THEN W32=BMI; END;
IF COHORT=4 THEN DO;
IF SEX=1 AND EDU=1 THEN M41=BMI; IF SEX=1 AND EDU=2 THEN M42=BMI; 
IF SEX=2 AND EDU=1 THEN W41=BMI; IF SEX=2 AND EDU=2 THEN W42=BMI; END;
RUN;

/*코호트1-남자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Men Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1950-1959)' ;
footnote;
proc sgplot data=B.cohort_AGEBY4;
  series x=AGE y=M11/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=M12/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age"  LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트2-남자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Men Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1960-1969)' ;
footnote;
proc sgplot data=B.cohort_AGEBY4;
  series x=AGE y=M21/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=M22/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age"  LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트3-남자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Men Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1970-1979)' ;
footnote;
proc sgplot data=B.cohort_AGEBY4;
  series x=AGE y=M31/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=M32/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트4-남자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Men Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1980-1989)' ;
footnote;
proc sgplot data=B.cohort_AGEBY4;
  series x=AGE y=M41/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=M42/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;


/*코호트1-여자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Women Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1950-1959)' ;
footnote;
proc sgplot data=B.cohort_AGEBY4;
  series x=AGE y=W11/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=W12/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트2-여자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Women Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1960-1969)' ;
footnote;
proc sgplot data=B.cohort_AGEBY4;
  series x=AGE y=W21/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=W22/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트3-여자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Women Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1970-1979)' ;
footnote;
proc sgplot data=B.cohort_AGEBY4;
  series x=AGE y=W31/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=W32/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
/*코호트4-여자 (교육 2 CAT)*/
title font='Times New Roman' 'Trends of BMI in Women Stratified by Birth Cohorts, Education Levels and Ages                    (Birth in 1980-1989)' ;
footnote;
proc sgplot data=B.cohort_AGEBY4;
  series x=AGE y=W41/ legendlabel='High School Graduate' lineattrs=(PATTERN=SOLID COLOR=lightblue) ;
  series x=AGE y=W42/ legendlabel='Over College Graduate' lineattrs=(PATTERN=SOLID COLOR=lightred) ;
  keylegend / location=inside position=topright across=1 titleattrs=(family="Times New Roman") valueattrs=(family="Times New Roman");
XAXIS LABEL="Age" LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman") ;
yaxis label="Mean BMI (kg/m2)" labelpos=top LABELATTRS=(FAMILY="Times New Roman") valueattrs=(FAMILY="Times New Roman");
run;
